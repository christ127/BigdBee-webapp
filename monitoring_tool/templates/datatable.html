<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Bigdbee Video Monitoring</title>
    <!-- jQuery -->
    <script src="{{ url_for('static', filename='jquery-3.3.1.min.js') }}" type="text/javascript"></script>
    <!-- /jQuery -->
    <!-- DataTables -->
    <script src="{{ url_for('static', filename='DataTables/datatables.min.js') }}" type="text/javascript"></script>
    <link href="{{ url_for('static', filename='DataTables/datatables.min.css') }}" rel="stylesheet" type="text/css"/>
    <!-- /DataTables -->
    <!-- Bootstrap -->
    <script src="{{ url_for('static', filename='Bootstrap/js/bootstrap.min.js') }}" type="text/javascript"></script>
    <link href="{{ url_for('static', filename='Bootstrap/css/bootstrap.min.css') }}" rel="stylesheet" type="text/css"/>
    <!-- /Bootstrap -->
    <!-- App styles -->
    <link href="{{ url_for('static', filename='main.css') }}" rel="stylesheet" type="text/css"/>
    <!-- /App styles -->


            <script>
        $(function () {
            $('#dt_table').DataTable({
                serverSide: false,
                ajax: {
                    url:"/listres_dt/{{dates}}/{{hours}}",
                    "dataSrc": "data"
                },
                columns: [
                    {data: 'name'},
                    {data: 'date'},
                    {data: 'hour'},
                    {data: 'avi'},
                    {data: 'mp4'},
                    {data: 'scale4'},
                    {data: 'tagraw'},
                    {data: 'tagmerge'},
                    {data: 'tagclean'}

                ],

                "columnDefs": [            //column definitions
                     {
                        "targets": [ 0 ], //[2] is position three in the json object
                        "visible": true, 
                        "searchable": true
                    },
                     {
                        "targets": [ 1 ], //[2] is position three in the json object
                        "visible": true, 
                        "searchable": true
                    },
                    {
                        "targets": [ 2 ], //[2] is position three in the json object
                        "visible": true, 
                        "searchable": true
                    },
                     {
                        "targets": [ 3 ], //[2] is position three in the json object
                        "visible": true, 
                        "searchable": true
                    },
                     {
                        "targets": [ 4 ], //[2] is position three in the json object
                        "visible": true, 
                        "searchable": true
                    },
                     {
                        "targets": [ 5 ], //[2] is position three in the json object
                        "visible": true, 
                        "searchable": false
                    },
                    {
                        "targets": [ 6 ], //[2] is position three in the json object
                        "visible": true, 
                        "searchable": true
                    },
                    {
                        "targets": [ 7 ], //[2] is position three in the json object
                        "visible": true, 
                        "searchable": true
                    },
                    {
                        "targets": [ 8 ],
                        "visible": true,
                        "searchable": true
                    }
                ]
            });

        });

        // in case you want to pass the querystring along with the request
        function getQuerystring() {
            var $qItems = $('#qItems');
            $qItems.empty();
            var hash;
            var filters = {};
            var q = document.URL.split('?')[1];
            if (q != undefined) {
                q = q.split('&');
                for (var i = 0; i < q.length; i++) {
                    hash = q[i].split('=');
                    filters[hash[0]] = hash[1];
                }
            }
            return filters
        }
    </script>
    </HEAD>
    <BODY>

    <div class="container">

        <h1>
            Video Monitoring Results
        </h1>

        <table id="dt_table" class="table table-striped table-responsive">
            <thead>
            <tr>
                <th>name</th>
                <th>date</th>
                <th>hour</th>
                <th>avi</th>
                <th>mp4</th>
                <th>scale4</th>
                <th>tagraw</th>
                <th>tagmerge</th>
                <th>tagclean</th>
            </tr>
            </thead>
        </table>



    </div>


</BODY>
</HTML>